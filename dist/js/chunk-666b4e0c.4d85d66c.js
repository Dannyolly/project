(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-666b4e0c"],{"154e":function(t,i,s){"use strict";s("c507")},7514:function(t,i,s){t.exports=s.p+"img/top50.3165ac09.png"},"7cb8":function(t,i,s){"use strict";s.r(i);var a=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"singerpage"},[a("div",{staticClass:"top-container"},[a("div",{staticClass:"img-container"},[a("img",{attrs:{src:t.singerobj.img1v1Url,alt:""}})]),a("div",{staticClass:"singerpage-right-container"},[a("h1",[t._v(t._s(t.singerobj.name))]),a("div",{staticClass:"button-container"},[a("mybutton-1",{attrs:{width:90,height:35}},[a("i",{staticClass:"far fa-folder",attrs:{slot:"icon"},slot:"icon"}),a("span",{attrs:{slot:"text"},slot:"text"},[t._v("收藏")])]),a("mybutton-1",{attrs:{height:35}},[a("i",{staticClass:"fas fa-user",attrs:{slot:"icon"},slot:"icon"}),a("span",{attrs:{slot:"text"},slot:"text"},[t._v("個人主頁")])])],1),a("div",{staticClass:"text-container"},[a("div",{staticClass:"songCount"},[t._v("單曲數:"+t._s(t.singerobj.musicSize))]),a("div",{staticClass:"albumCount"},[t._v("專輯數:"+t._s(t.singerobj.albumSize))])])])]),a("div",{staticClass:"mid-container"},[a("el-menu",{staticClass:"el-menu-demo",attrs:{mode:"horizontal","active-text-color":"#EC4141","default-active":t.activeIndex}},[a("el-menu-item",{attrs:{index:"1"},on:{click:function(i){return t.chooseindex(0)}}},[t._v(" 專輯 ")]),a("el-menu-item",{attrs:{index:"2"},on:{click:function(i){return t.chooseindex(1)}}},[t._v(" MV ")]),a("el-menu-item",{attrs:{index:"3"},on:{click:function(i){return t.chooseindex(2)}}},[t._v(" 相似歌手 ")])],1),0===t.myindex?a("div",{staticClass:"singer-album"},[a("div",{staticClass:"mid-img-container"},[a("div",{staticClass:"img-left-container"},[a("img-box",[a("img",{attrs:{slot:"img",src:s("7514"),alt:""},slot:"img"}),a("div",{attrs:{slot:"text"},slot:"text"})])],1),a("h4"),a("div",{staticClass:"img-right-container"},[a("h4",[t._v("熱門50首")]),t._m(0),t._l(t.top50arr,(function(i,s){return a("search-list",{key:i.name+s,attrs:{width:550,albumwidth:0,hotwidth:0,singerwidth:0}},[a("span",{attrs:{slot:"num"},slot:"num"},[t._v(t._s(s+1<10?"0"+String(s+1):s+1))]),a("i",{staticClass:"far fa-heart",attrs:{slot:"icon-like"},slot:"icon-like"}),a("i",{staticClass:"far fa-arrow-alt-circle-down",attrs:{slot:"icon-download"},slot:"icon-download"}),a("span",{staticClass:"the-title",attrs:{slot:"the-title"},on:{dblclick:function(i){return t.play50song(s)}},slot:"the-title"},[t._v(t._s(i.name))]),a("span",{attrs:{slot:"time"},slot:"time"},[t._v("03:08")])])}))],2)]),t._l(t.albumarr,(function(i,s){return a("div",{key:i+s,staticClass:"mid-img-container"},[a("div",{staticClass:"img-left-container"},[a("img-box",[a("img",{attrs:{slot:"img",src:i.blurPicUrl,alt:""},slot:"img"}),a("div",{attrs:{slot:"text"},slot:"text"})])],1),a("h4"),a("div",{staticClass:"img-right-container"},[a("h4",[t._v(t._s(i.name))]),t._m(1,!0),t._l(t.albumsongarr[s],(function(i,n){return a("search-list",{key:i.id+n,attrs:{width:550,albumwidth:0,hotwidth:0,singerwidth:0},on:{click:function(i){return t.playsong(s,n)}}},[a("span",{attrs:{slot:"num"},slot:"num"},[t._v(t._s(n+1<10?"0"+String(n+1):n+1))]),a("i",{staticClass:"far fa-heart",attrs:{slot:"icon-like"},slot:"icon-like"}),a("i",{staticClass:"far fa-arrow-alt-circle-down",attrs:{slot:"icon-download"},slot:"icon-download"}),a("span",{staticClass:"the-title",attrs:{slot:"the-title"},on:{dblclick:function(i){return t.playsong(s,n)}},slot:"the-title"},[t._v(t._s(i.name))]),a("span",{attrs:{slot:"time"},slot:"time"},[t._v("03:08")])])}))],2)])}))],2):t._e(),1===t.myindex?a("div",{staticClass:"singer-mv"},t._l(t.mvarr,(function(i,s){return a("video-box",{key:i+s},[a("div",{staticClass:"playCount",attrs:{slot:"clickcount"},slot:"clickcount"},[a("i",{staticClass:"fas fa-play"},[t._v(" "+t._s(i.playCount)+" ")])]),a("img",{attrs:{slot:"video",src:i.imgurl16v9,alt:""},on:{click:function(i){return t.gotomvpage(s)}},slot:"video"}),a("h4",{staticClass:"mv-title",attrs:{slot:"h4"},slot:"h4"},[t._v(t._s(i.name))])])})),1):t._e(),2===t.myindex?a("div",{staticClass:"singer-info"},t._l(t.simisingerarr,(function(i,s){return a("img-box",{key:i+s,attrs:{width:130}},[a("img",{attrs:{slot:"img",src:i.img1v1Url,alt:""},on:{click:function(i){return t.gotosingerpage(s)}},slot:"img"}),a("div",{attrs:{slot:"text"},slot:"text"},[t._v(t._s(i.name))])])})),1):t._e()],1)])},n=[function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"play-container"},[s("i",{staticClass:"far fa-play-circle"}),s("i",{staticClass:"far fa-folder"})])},function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"play-container"},[s("i",{staticClass:"far fa-play-circle"}),s("i",{staticClass:"far fa-folder"})])}],e=s("1da1"),r=(s("96cf"),s("b0c0"),s("2dc0")),o=s("4532"),l=s("3434"),c=s("c15e"),h=s("8ccb"),u={name:"singerpage",components:{Mybutton1:l["a"],ImgBox:r["a"],SearchList:o["a"],VideoBox:h["a"]},data:function(){return{activeIndex:"1",myindex:0,singerobj:{},albumarr:[],top50arr:[],albumsongarr:[],mvarr:[],simisingerarr:[]}},watch:{$route:{immediate:!0,handler:function(){this.getsingerobj()}},top50arr:function(){this.checkoutlength()},albumarr:function(){this.getalbumsongs()},myindex:function(){1===this.myindex?(this.activeIndex=String(this.myindex),this.getsingermv()):2===this.myindex&&this.getsimisinger()},mvarr:function(){this.cutdown()}},mounted:function(){this.getsingerobj()},methods:{gotomvpage:function(t){this.$router.push({path:"/home/mvpage",query:{arr:this.mvarr[t],singerobj:this.singerobj,pre:this.$route.path,save:1}})},gotosingerpage:function(t){this.$router.push({path:"/home/singerpage",query:{singerobj:this.simisingerarr[t]}})},cutdown:function(){for(var t=0;t<this.mvarr.length;t++)this.mvarr[t].name.length>20&&(this.mvarr[t].name=Object(c["a"])(this.mvarr[t].name.length-20,this.mvarr[t].name))},getsimisinger:function(){var t=this;this.$axios.get("http://localhost:3000/simi/artist?id="+this.singerobj.id).then((function(i){console.log(i.data.artists),t.simisingerarr=i.data.artists}))},getsingermv:function(){var t=this;this.$axios.get("http://localhost:3000/artist/mv?id="+this.singerobj.id).then((function(i){t.mvarr=i.data.mvs}))},chooseindex:function(t){this.myindex=t},play50song:function(t){this.$emit("getonesong",this.top50arr[t])},playsong:function(t,i){this.$emit("getonesong",this.albumsongarr[t][i])},checkoutlength:function(){for(var t=0;t<this.top50arr.length;t++)this.top50arr[t].name.length>15&&(this.top50arr[t].name=Object(c["a"])(this.top50arr[t].name.length-10,this.top50arr[t].name))},gettop50song:function(){var t=this;this.$axios.get("http://localhost:3000/artist/top/song?id="+this.singerobj.id).then((function(i){t.top50arr=i.data.songs,t.top50arr.length=10}))},getsingeralbum:function(){var t=this;this.$axios.get("http://localhost:3000/artist/album?limit=30&id="+this.singerobj.id).then((function(i){t.albumarr=i.data.hotAlbums})).catch((function(t){}))},getalbumsongs:function(){var t=Object(e["a"])(regeneratorRuntime.mark((function t(){var i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=this,s=0;case 2:if(!(s<this.albumarr.length)){t.next=8;break}return t.next=5,this.$axios.get("http://localhost:3000/album?id="+this.albumarr[s].id).then((function(t){i.albumsongarr.push(t.data.songs)}));case 5:s++,t.next=2;break;case 8:case"end":return t.stop()}}),t,this)})));function i(){return t.apply(this,arguments)}return i}(),getsingerobj:function(){this.singerobj=this.$route.query.singerobj,this.getsingeralbum(),this.gettop50song()}}},m=u,g=(s("154e"),s("2877")),d=Object(g["a"])(m,a,n,!1,null,null,null);i["default"]=d.exports},c507:function(t,i,s){}}]);
//# sourceMappingURL=chunk-666b4e0c.4d85d66c.js.map